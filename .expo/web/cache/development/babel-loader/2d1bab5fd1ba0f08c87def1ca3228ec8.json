{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport useWindowDimensions from \"react-native-web/dist/exports/useWindowDimensions\";\nimport React, { useState, useCallback } from 'react';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar ImageCarousel = function ImageCarousel(_ref) {\n  var images = _ref.images;\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      activeIndex = _useState2[0],\n      setActiveIndex = _useState2[1];\n\n  var windowWidth = useWindowDimensions().width;\n  var onFlatlistUpdate = useCallback(function (_ref2) {\n    var viewableItems = _ref2.viewableItems;\n\n    if (viewableItems.length > 0) {\n      setActiveIndex(viewableItems[0].index || 0);\n    }\n\n    console.log(viewableItems);\n  }, []);\n  return _jsxs(View, {\n    style: styles.root,\n    children: [_jsx(FlatList, {\n      data: images,\n      renderItem: function renderItem(_ref3) {\n        var item = _ref3.item;\n        return _jsx(Image, {\n          style: [styles.image, {\n            width: windowWidth - 20\n          }],\n          source: {\n            uri: item\n          }\n        });\n      },\n      horizontal: true,\n      showsHorizontalScrollIndicator: false,\n      snapToInterval: windowWidth - 20,\n      snapToAlignment: 'center',\n      decelerationRate: 'fast',\n      viewabilityConfig: {\n        viewAreaoveragePercentThreshold: 50\n      },\n      onViewableItemsChanged: onFlatlistUpdate\n    }), _jsx(View, {\n      style: styles.dots,\n      children: images.map(function (image, index) {\n        return _jsx(View, {\n          style: [styles.dot, {\n            backgroundColor: index === activeIndex ? '#c9c9c9' : '#ededed'\n          }]\n        });\n      })\n    })]\n  });\n};\n\nvar styles = StyleSheet.create({\n  root: {},\n  image: {\n    margin: 10,\n    height: 250,\n    resizeMode: 'contain'\n  },\n  dots: {\n    flexDirection: 'row',\n    justifyContent: 'center'\n  },\n  dot: {\n    width: 10,\n    height: 10,\n    borderRadius: 25,\n    borderWidth: 1,\n    backgroundColor: '#ededed',\n    borderColor: '#c9c9c9'\n  }\n});\nexport default ImageCarousel;","map":{"version":3,"names":["React","useState","useCallback","ImageCarousel","images","activeIndex","setActiveIndex","windowWidth","useWindowDimensions","width","onFlatlistUpdate","viewableItems","length","index","console","log","styles","root","item","image","uri","viewAreaoveragePercentThreshold","dots","map","dot","backgroundColor","StyleSheet","create","margin","height","resizeMode","flexDirection","justifyContent","borderRadius","borderWidth","borderColor"],"sources":["C:/Vue Practice/RP/reactNative_projects/CloneApp/CloneApp/src/components/ImageCarousel/index.tsx"],"sourcesContent":["import { FlatList, Image, StyleSheet, Text, View, useWindowDimensions } from 'react-native'\r\nimport React, { useState, useCallback } from 'react'\r\n\r\nconst ImageCarousel = ({ images }: { images: [string] }) => {\r\n   const [activeIndex, setActiveIndex] = useState(0);\r\n    const windowWidth = useWindowDimensions().width;\r\n\r\n    const onFlatlistUpdate = useCallback(({ viewableItems }) => {\r\n        if (viewableItems.length > 0) {\r\n            setActiveIndex(viewableItems[0].index || 0);\r\n        }\r\n            console.log(viewableItems)\r\n        }, []);\r\n\r\n    return (\r\n        <View style={styles.root}>\r\n            <FlatList\r\n                data={images}\r\n                renderItem={({ item }) => (\r\n                    <Image\r\n                        style={[styles.image, {width: windowWidth -20 }]}\r\n                        source={{ uri: item }}\r\n                    />\r\n                )}\r\n                horizontal\r\n                showsHorizontalScrollIndicator={false}\r\n                snapToInterval={windowWidth - 20}\r\n                snapToAlignment={'center'}\r\n                decelerationRate={'fast'}\r\n                viewabilityConfig={{viewAreaoveragePercentThreshold: 50,\r\n            }}\r\n                onViewableItemsChanged={onFlatlistUpdate}\r\n            />\r\n       \r\n            <View style={styles.dots}>\r\n               {images.map((image, index) => (\r\n                  <View\r\n                   style={[\r\n                    styles.dot,\r\n                     {\r\n                        backgroundColor: index === activeIndex ? '#c9c9c9' : '#ededed'\r\n                     }\r\n                    ]} />\r\n                ))}\r\n            </View>\r\n        </View>\r\n    );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n    root: {\r\n\r\n    },\r\n    image: {\r\n        margin: 10,\r\n        height: 250,\r\n        resizeMode: 'contain',\r\n    },\r\n    dots:{\r\n        flexDirection: 'row',\r\n        justifyContent: 'center',\r\n        \r\n    },\r\n    dot:{\r\n        width: 10,\r\n        height: 10,\r\n        borderRadius: 25,\r\n        borderWidth: 1,\r\n        backgroundColor: '#ededed',\r\n        borderColor: '#c9c9c9'\r\n    }\r\n})\r\n\r\nexport default ImageCarousel\r\n\r\n"],"mappings":";;;;;;AACA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,WAA1B,QAA6C,OAA7C;;;;AAEA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,OAAsC;EAAA,IAAnCC,MAAmC,QAAnCA,MAAmC;;EACzD,gBAAsCH,QAAQ,CAAC,CAAD,CAA9C;EAAA;EAAA,IAAOI,WAAP;EAAA,IAAoBC,cAApB;;EACC,IAAMC,WAAW,GAAGC,mBAAmB,GAAGC,KAA1C;EAEA,IAAMC,gBAAgB,GAAGR,WAAW,CAAC,iBAAuB;IAAA,IAApBS,aAAoB,SAApBA,aAAoB;;IACxD,IAAIA,aAAa,CAACC,MAAd,GAAuB,CAA3B,EAA8B;MAC1BN,cAAc,CAACK,aAAa,CAAC,CAAD,CAAb,CAAiBE,KAAjB,IAA0B,CAA3B,CAAd;IACH;;IACGC,OAAO,CAACC,GAAR,CAAYJ,aAAZ;EACH,CAL+B,EAK7B,EAL6B,CAApC;EAOA,OACI,MAAC,IAAD;IAAM,KAAK,EAAEK,MAAM,CAACC,IAApB;IAAA,WACI,KAAC,QAAD;MACI,IAAI,EAAEb,MADV;MAEI,UAAU,EAAE;QAAA,IAAGc,IAAH,SAAGA,IAAH;QAAA,OACR,KAAC,KAAD;UACI,KAAK,EAAE,CAACF,MAAM,CAACG,KAAR,EAAe;YAACV,KAAK,EAAEF,WAAW,GAAE;UAArB,CAAf,CADX;UAEI,MAAM,EAAE;YAAEa,GAAG,EAAEF;UAAP;QAFZ,EADQ;MAAA,CAFhB;MAQI,UAAU,MARd;MASI,8BAA8B,EAAE,KATpC;MAUI,cAAc,EAAEX,WAAW,GAAG,EAVlC;MAWI,eAAe,EAAE,QAXrB;MAYI,gBAAgB,EAAE,MAZtB;MAaI,iBAAiB,EAAE;QAACc,+BAA+B,EAAE;MAAlC,CAbvB;MAeI,sBAAsB,EAAEX;IAf5B,EADJ,EAmBI,KAAC,IAAD;MAAM,KAAK,EAAEM,MAAM,CAACM,IAApB;MAAA,UACIlB,MAAM,CAACmB,GAAP,CAAW,UAACJ,KAAD,EAAQN,KAAR;QAAA,OACT,KAAC,IAAD;UACC,KAAK,EAAE,CACNG,MAAM,CAACQ,GADD,EAEL;YACGC,eAAe,EAAEZ,KAAK,KAAKR,WAAV,GAAwB,SAAxB,GAAoC;UADxD,CAFK;QADR,EADS;MAAA,CAAX;IADJ,EAnBJ;EAAA,EADJ;AAiCH,CA5CD;;AA8CA,IAAMW,MAAM,GAAGU,UAAU,CAACC,MAAX,CAAkB;EAC7BV,IAAI,EAAE,EADuB;EAI7BE,KAAK,EAAE;IACHS,MAAM,EAAE,EADL;IAEHC,MAAM,EAAE,GAFL;IAGHC,UAAU,EAAE;EAHT,CAJsB;EAS7BR,IAAI,EAAC;IACDS,aAAa,EAAE,KADd;IAEDC,cAAc,EAAE;EAFf,CATwB;EAc7BR,GAAG,EAAC;IACAf,KAAK,EAAE,EADP;IAEAoB,MAAM,EAAE,EAFR;IAGAI,YAAY,EAAE,EAHd;IAIAC,WAAW,EAAE,CAJb;IAKAT,eAAe,EAAE,SALjB;IAMAU,WAAW,EAAE;EANb;AAdyB,CAAlB,CAAf;AAwBA,eAAehC,aAAf"},"metadata":{},"sourceType":"module"}